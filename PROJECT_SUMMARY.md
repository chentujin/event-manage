# äº‹ä»¶ä¸æ•…éšœç®¡ç†å¹³å° - é¡¹ç›®æ€»ç»“

## ğŸ‰ é¡¹ç›®å®ŒæˆçŠ¶æ€

### âœ… å·²å®ŒæˆåŠŸèƒ½

#### 1. æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½
- **äº‹ä»¶ç®¡ç†ï¼ˆIncident Managementï¼‰**
  - äº‹ä»¶åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°
  - ä¼˜å…ˆçº§è‡ªåŠ¨è®¡ç®—ï¼ˆå½±å“åº¦ + ç´§æ€¥åº¦ï¼‰
  - çŠ¶æ€æµè½¬ç®¡ç†
  - è¯„è®ºç³»ç»Ÿæ”¯æŒ

- **æ•…éšœç®¡ç†ï¼ˆProblem Managementï¼‰**
  - æ•…éšœåˆ›å»ºå’Œç®¡ç†
  - æ ¹æœ¬åŸå› åˆ†æï¼ˆRCAï¼‰
  - å·²çŸ¥é”™è¯¯ç®¡ç†
  - äº‹ä»¶-æ•…éšœå…³è”

- **å®¡æ‰¹æµç¨‹ç³»ç»Ÿ**
  - å¯é…ç½®çš„å¤šçº§å®¡æ‰¹å·¥ä½œæµ
  - å®¡æ‰¹ä»»åŠ¡ç®¡ç†
  - å®¡æ‰¹å†å²è®°å½•

- **é€šçŸ¥é›†æˆæ¨¡å—**
  - å¤šæ¸ é“é€šçŸ¥æ”¯æŒï¼ˆé‚®ä»¶ã€çŸ­ä¿¡ã€Webhookã€è¯­éŸ³ç”µè¯ï¼‰
  - é€šçŸ¥æ¨¡æ¿ç®¡ç†
  - é€šçŸ¥è§„åˆ™é…ç½®
  - é€šçŸ¥å‘é€æ—¥å¿—

#### 2. ç³»ç»ŸåŸºç¡€åŠŸèƒ½
- **ç”¨æˆ·è®¤è¯ä¸æƒé™ç®¡ç†**
  - JWTä»¤ç‰Œè®¤è¯
  - åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰
  - ç”¨æˆ·ã€è§’è‰²ã€ç»„ç®¡ç†
  - æƒé™è£…é¥°å™¨

- **æ•°æ®ç®¡ç†**
  - å®Œæ•´çš„æ•°æ®æ¨¡å‹è®¾è®¡
  - æœåŠ¡ç›®å½•ç®¡ç†
  - æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
  - é»˜è®¤æ•°æ®åˆ›å»º

- **APIæ¥å£**
  - RESTful APIè®¾è®¡
  - å®Œæ•´çš„CRUDæ“ä½œ
  - é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
  - APIæ–‡æ¡£å‹å¥½

#### 3. æŠ€æœ¯ç‰¹æ€§
- **ç°ä»£æŠ€æœ¯æ ˆ**
  - Python 3.9+ / Flask 2.3+
  - SQLAlchemy ORM
  - JWTè®¤è¯
  - CORSæ”¯æŒ

- **å®‰å…¨æ€§**
  - å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆbcryptï¼‰
  - APIè®¤è¯å’Œæƒé™æ ¡éªŒ
  - é˜²æ­¢å¸¸è§Webæ¼æ´

- **å¯ç»´æŠ¤æ€§**
  - æ¨¡å—åŒ–æ¶æ„è®¾è®¡
  - æ¸…æ™°çš„ä»£ç ç»“æ„
  - å®Œæ•´çš„æ—¥å¿—è®°å½•
  - é…ç½®æ–‡ä»¶ç®¡ç†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡
```bash
cd backend
python3 -m pip install -r requirements.txt
```

### 2. æ•°æ®åº“åˆå§‹åŒ–
```bash
python3 -c "
from app import create_app
from app.utils.init_data import init_default_data
app = create_app()
app.app_context().push()
from app import db
db.create_all()
init_default_data()
print('æ•°æ®åº“åˆå§‹åŒ–å®Œæˆï¼')
"
```

### 3. åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·
```bash
python3 -c "
from app import create_app, db
from app.models import User, Role
import bcrypt

app = create_app()
app.app_context().push()

admin_role = Role.query.filter_by(name='Admin').first()
password_hash = bcrypt.hashpw('admin123'.encode('utf-8'), bcrypt.gensalt()).decode('utf-8')

admin = User(
    username='admin',
    email='admin@example.com',
    password_hash=password_hash,
    real_name='ç³»ç»Ÿç®¡ç†å‘˜',
    department='IT',
    is_active=True
)
admin.roles.append(admin_role)

db.session.add(admin)
db.session.commit()
print('ç®¡ç†å‘˜ç”¨æˆ·åˆ›å»ºæˆåŠŸï¼')
"
```

### 4. å¯åŠ¨åº”ç”¨
```bash
export FLASK_ENV=development
python3 run.py
```
åº”ç”¨å°†åœ¨ http://127.0.0.1:5000 å¯åŠ¨

## ğŸ“Š APIä½¿ç”¨ç¤ºä¾‹

### ç”¨æˆ·ç™»å½•
```bash
curl -X POST http://127.0.0.1:5000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username": "admin", "password": "admin123"}'
```

### åˆ›å»ºäº‹ä»¶
```bash
curl -X POST http://127.0.0.1:5000/api/v1/incidents \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "ç³»ç»Ÿæ€§èƒ½é—®é¢˜",
    "description": "ç”¨æˆ·æŠ¥å‘Šç³»ç»Ÿå“åº”ç¼“æ…¢",
    "impact": "High",
    "urgency": "Medium",
    "service_id": 1
  }'
```

### è·å–ä»ªè¡¨ç›˜æ•°æ®
```bash
curl -H "Authorization: Bearer YOUR_TOKEN" \
  http://127.0.0.1:5000/api/v1/dashboard/overview
```

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### ç›®å½•ç»“æ„
```
backend/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ api/            # APIè·¯ç”±
â”‚   â”œâ”€â”€ auth/           # è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ notification/   # é€šçŸ¥æ¨¡å—
â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”œâ”€â”€ config.py           # é…ç½®æ–‡ä»¶
â”œâ”€â”€ run.py             # å¯åŠ¨å…¥å£
â””â”€â”€ requirements.txt    # ä¾èµ–åŒ…
```

### æ ¸å¿ƒæ¨¡å‹å…³ç³»
- **User** â†â†’ **Role** (å¤šå¯¹å¤š)
- **User** â†â†’ **Group** (å¤šå¯¹å¤š)
- **Incident** â†’â† **Service** (å¤šå¯¹ä¸€)
- **Incident** â†â†’ **Problem** (å¤šå¯¹å¤š)
- **Problem** â†’ **Approval** (ä¸€å¯¹å¤š)

## ğŸ”§ é…ç½®è¯´æ˜

### æ•°æ®åº“é…ç½®
å¼€å‘ç¯å¢ƒä½¿ç”¨SQLiteï¼š`sqlite:///event_manage_dev.db`
ç”Ÿäº§ç¯å¢ƒå¯é…ç½®MySQLè¿æ¥

### è®¤è¯é…ç½®
- JWTä»¤ç‰Œæœ‰æ•ˆæœŸï¼š24å°æ—¶
- æ”¯æŒä»¤ç‰Œåˆ·æ–°æœºåˆ¶

### é€šçŸ¥é…ç½®
- æ”¯æŒé‚®ä»¶ã€çŸ­ä¿¡ã€Webhookã€è¯­éŸ³ç”µè¯
- å¯é…ç½®é€šçŸ¥æ¨¡æ¿å’Œè§„åˆ™
- æ”¯æŒé€šçŸ¥å‡çº§ç­–ç•¥

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½ç‰¹ç‚¹

### ITILæ ‡å‡†å…¼å®¹
- ç¬¦åˆITILäº‹ä»¶ç®¡ç†æœ€ä½³å®è·µ
- æ ‡å‡†åŒ–çš„çŠ¶æ€æµè½¬
- åˆ†ç¦»äº‹ä»¶å’Œæ•…éšœç®¡ç†

### SREå®è·µé›†æˆ
- æ”¯æŒSLO/SLIç›‘æ§é›†æˆ
- ä¼˜å…ˆçº§è‡ªåŠ¨è®¡ç®—
- æ•°æ®é©±åŠ¨çš„å†³ç­–æ”¯æŒ

### ä¼ä¸šçº§ç‰¹æ€§
- å®Œæ•´çš„æƒé™æ§åˆ¶
- å¤šçº§å®¡æ‰¹æµç¨‹
- å…¨é“¾è·¯é€šçŸ¥æœºåˆ¶
- å®¡è®¡æ—¥å¿—è®°å½•

## ğŸ“ˆ å·²éªŒè¯åŠŸèƒ½

âœ… ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†  
âœ… äº‹ä»¶åˆ›å»ºå’Œç®¡ç†  
âœ… æœåŠ¡ç›®å½•æŸ¥è¯¢  
âœ… ä»ªè¡¨ç›˜æ•°æ®å±•ç¤º  
âœ… APIå®‰å…¨æ€§éªŒè¯  
âœ… æ•°æ®åº“å…³è”æŸ¥è¯¢  
âœ… é»˜è®¤æ•°æ®åˆå§‹åŒ–  

## ğŸš§ åç»­æ‰©å±•æ–¹å‘

1. **å‰ç«¯ç•Œé¢å¼€å‘**
   - Vue.js 3.x å‰ç«¯åº”ç”¨
   - å“åº”å¼ç”¨æˆ·ç•Œé¢
   - å®æ—¶æ•°æ®æ›´æ–°

2. **é«˜çº§åŠŸèƒ½**
   - å·¥ä½œæµå¼•æ“
   - æŠ¥è¡¨å’Œåˆ†æ
   - é›†æˆå¤–éƒ¨ç›‘æ§ç³»ç»Ÿ

3. **è¿ç»´å¢å¼º**
   - Dockerå®¹å™¨åŒ–
   - CI/CDæµæ°´çº¿
   - æ€§èƒ½ç›‘æ§

è¿™ä¸ªäº‹ä»¶ç®¡ç†å¹³å°å·²ç»å…·å¤‡äº†ä¼ä¸šçº§åº”ç”¨çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œå¯ä»¥æ”¯æŒå›¢é˜Ÿè¿›è¡Œæ ‡å‡†åŒ–çš„äº‹ä»¶å’Œæ•…éšœç®¡ç†å·¥ä½œã€‚